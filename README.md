# Проектная работа 1 спринта

## Задание №1

## Требования

- Автономная работа нескольких команд
- Обновление и развёртывание микрофронтендов независимо друг от друга
- Высокая скорость отображения карточек 

## Ограничения для выбора фреймворка

- Версия Webpack 5
- React
- Быстрый переход от монолита к микрофронтендам

## Определение границ микрофронтендов 

Монолит разбивается на модули согласно бизнес-функциональности (вертикальная нарезка):
1. auth - модуль авторизации:
   - регистрация пользователя
   - авторизация пользователя
2. profile - модуль управления профилем:
   - Редактировать профиль
   - Обновить аватар
3. card - модуль управления карточками: 
   - Создать карточку
   - Редактировать карточку
   - Удалить карточку
   - Лайкнуть
   - Убрать лайк
4. appshell - общая оболочка - координатор для микрофронтендов
   - Footer
   - Header
   - Отслеживание контекста

## Фреймворк

В качестве фреймворка для создания микрофронтендов в проекте Mesto был выбран Webpack Module Federation по следующим причинам:
1. Webpack Module Federation является встроенной функцией Webpack 5, что делает его легко интегрируемым с данным проектом.
2. Webpack Module Federation поддерживает React, который используся в проекте. 
3. Webpack Module Federation поддерживает `lazy loading` - позволяет динамически загружать модули из других микрофронтендов, что делает архитектуру более гибкой и масштабируемой.
4. Webpack Module Federation позволяет легко управлять общими зависимостями между микрофронтендами, что уменьшает дублирование кода при работе нескольких команд и улучшает производительность.

# Задание 2

[разделение на микросервисы.drawio](./sprint_1_task_2_microservices)

В рамках декомпозиции веб-приложения были выделены следующие

# микрофронтенды:
1. Микрофронтенд профиля пользователя отвечает за аутентификацию и авторизацию, профиль пользователя и т.д,
взаимодействует с микросервисом авторизации через свой BFF.
2. Микрофронтенд аукционов - отвечает за управление аукционами, взаимодействует с микросервисом аукционов и микросервисом апелляций через свой BFF.
3. Микрофронтенд заказов - отвечает за управление заказачи, взаимодействует с микросервисом заказов и микросервисом товаров и услуг через свой BFF.
4. Микрофронтенд товаров и услуг - отвечает за управление заказачи, взаимодействует с микросервисом товаров и услуг через свой BFF.
5. Микрофронтенд заявок к техподдержке - отвечает за управление заявками к техподдержке, взаимодействует с микросервисом техподдержки через свой BFF.
6. Микрофронтенд платежей - отвечает за платежи, взаимодействует с микросервисом платежей через свой BFF.

# микросервисы:
1. Сервис авторизации - отвечает за аутентификацию и авторизацию, профиль пользователя и т.д, остальные микросервисы используют для валидации токена, проверки роли пользователя, получения данных пользователя (например для отправки нотификация на почту).
2. Сервис аукционов - отвечает за управление аукционами, взаимодействует с сервисом авторизации и сервисом платежей, сервисом апелляций.
3. Сервис апелляций - отвечает за апелляции в рамках аукционов, взаимодействует с сервисом авторизации и сервисом аукционов.
4. Сервис заказов - отвечает за управление заказами, взаимодействует с сервисом авторизации, сервисом товаров и услуг и сервисом платежей.
5. Сервис товаров и услуг  - отвечает за управление товарами и услугами, ввзаимодействует с сервисом авторизации и сервисов заказов.
6. Сервис платежей  - отвечает платежи в рамках заказов и аукционов, ввзаимодействует с сервисом аукционов и сервисом заказов.
7. Сервис техподдержки  - отвечает за заявки к техподдержке.